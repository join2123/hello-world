C51 COMPILER V9.57.0.0   __________                                                        04/26/2021 16:36:01 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE __________
OBJECT MODULE PLACED IN .\Objects\ÊµÑé¶þ°´¼ü.obj
COMPILER INVOKED BY: D:\keil\Keil5\C51\BIN\C51.EXE ÊµÑé¶þ°´¼ü.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\List
                    -ings\ÊµÑé¶þ°´¼ü.lst) TABS(2) OBJECT(.\Objects\ÊµÑé¶þ°´¼ü.obj)

line level    source

   1          /////////////////////////////////////////////////////////////////////////////////
   2          //Éè¼ÆÏîÄ¿:Ä£Äâ¿ª¹Ø¿ØÖÆÖ¸Ê¾µÆÉè¼ÆÊµÑé                                          //
   3          //Éè ¼Æ ÈË:Àî²©Óî                                                              //
   4          //Éè¼ÆÊ±¼ä:2014.4.27                                                           //
   5          //Éè¼ÆËµÃ÷:Éè¼ÆÒ»¸ö¿ª¹Ø¼ÆÊýÆ÷£¬ ÊµÏÖÒ»¸öÄ£Äâ¿ª¹ØÁ¬Ðø¼ÆÊý£¬¿ØÖÆ8¸öLEDÖ¸Ê¾µÆÏÔÊ¾ //
   6          //         Ó²¼þÁ¬½ÓÌõ¼þ:1¡¢µ¥Æ¬»úP0.0~P0.7ÒÀ´ÎÁ¬½ÓµÚ1~8¸öLEDÖ¸Ê¾µÆ             //
   7          //                      2¡¢4¸öÄ£Äâ¿ª¹ØÒÀ´ÎÁ¬½Óµ½P3.4,P3.5,P3.6,P3.7            //
   8          /////////////////////////////////////////////////////////////////////////////////
   9          //#include <AT89X51.H> 
  10          #include "STC15F2K60S2.H"
  11          ////////º¯ÊýËµÃ÷////////
  12          void delay02s(void);    //ÑÓÊ±2Ãë×Ó³ÌÐò//
  13          void delay10ms(void);   //ÑÓÊ±10msµÄ×Ó³ÌÐò//
  14          void delay50us(void);   //ÑÓÊ±50usµÄ×Ó³ÌÐò//
  15          void alarm_buzzer(void);  //±¨¾¯×Ó³ÌÐò//
  16          void key(void);             //°´¼üº¯Êý
  17          void display(void);         //ÏÔÊ¾º¯Êý//
  18          //extern One_key_multifunction(void);//Íâ²¿ÒýÓÃµÄÒ»¼ü¶à¹¦ÄÜ°´¼üº¯Êý
  19          //void Display_function_with_a_parameter(unsigned char x);//´ø²ÎÊýµÄÏÔÊ¾º¯Êý
  20          extern void led_a(void);         //¶à»¨É«ÏÔÊ¾º¯Êý
  21          ////////±äÁ¿ËµÃ÷////////¡®¡¯¡®¡¯¡®¡¯¡®¡¯¡®¡¯¡®¡¯¡®¡¯¡®¡¯¡®¡¯¡®¡¯¡®¡¯¡®¡¯¡®¡¯¡®¡¯¡®¡
  22          unsigned  char count;/////////¼ÆÊýÆ÷
  23          bit alarm_con;/////±¨¾¯¿ØÖÆ±êÖ¾
  24          //extern unsigned  char key_counter;/////////°´¼ü¼ÆÊýÆ÷
  25          extern unsigned  char Addition_and_subtracting_counter;/////////¼Ó¼õ°´¼ü¼ÆÊýÆ÷
  26          //unsigned  char k;
  27          
  28          //extern unsigned  char move_bit1,move_bit2;/////////ÒÆÎ»±äÁ¿
  29          
  30          ///led¶¨Òå///////SFRÎ»¶¨Òå/////Î»¶¨Òå///
  31          sbit L1=P1^0;//////¶¨ÒåµÚ1¸öÖ¸Ê¾µÆµÄÃû³ÆÎªL1  »¹¿ÉÒÔÖ±½Ó²ÉÓÃP0_0;ÒòÎªAT89X51.HÄÚ²¿ÒÑ×ö¶¨Òå,ÏÂÒÀ´ÎÀàÍÆ
  32          sbit L2=P1^1;//////¶¨ÒåµÚ2¸öÖ¸Ê¾µÆµÄÃû³ÆÎªL2 
  33          sbit L3=P1^2;//////¶¨ÒåµÚ3¸öÖ¸Ê¾µÆµÄÃû³ÆÎªL3  
  34          sbit L4=P1^3;//////¶¨ÒåµÚ4¸öÖ¸Ê¾µÆµÄÃû³ÆÎªL4 
  35          sbit L5=P1^4;//////¶¨ÒåµÚ5¸öÖ¸Ê¾µÆµÄÃû³ÆÎªL5  
  36          sbit L6=P1^5;//////¶¨ÒåµÚ6¸öÖ¸Ê¾µÆµÄÃû³ÆÎªL6 
  37          sbit L7=P1^6;//////¶¨ÒåµÚ7¸öÖ¸Ê¾µÆµÄÃû³ÆÎªL7  
  38          sbit L8=P1^7;//////¶¨ÒåµÚ8¸öÖ¸Ê¾µÆµÄÃû³ÆÎªL8
  39          
  40          sbit fmq=P3^2;//////¶¨ÒåfmqÎª·äÃùÆ÷¿ØÖÆ¶Ë
  41           
  42          //°´¼ü¶¨Òå
  43          sbit key_1=P3^4;//////¶¨ÒåµÚ1¸ö°´¼üÎªKEY_1
  44          sbit key_2=P3^5;//////¶¨ÒåµÚ1¸ö°´¼üÎªKEY_2
  45          sbit key_3=P3^6;//////¶¨ÒåµÚ1¸ö°´¼üÎªKEY_3
  46          sbit key_4=P3^7;//////¶¨ÒåµÚ1¸ö°´¼üÎªKEY_4
  47          /////////////////////////////
  48          void main(void)       //Ö÷³ÌÐò//
  49          {
  50   1      
  51   1      /////////³õÊ¼»¯Çø////////////////
  52   1      P3=0xff;/////³õÊ¼»¯P3¿Ú×¼±¸¶ÁÈ¡°´¼ü£¨°´¼üÊäÈë£©
  53   1      //P0=0X55;
  54   1      //display();
C51 COMPILER V9.57.0.0   __________                                                        04/26/2021 16:36:01 PAGE 2   

  55   1      /////ÒÆ¶¯×îµÍÎ»0Î»µ½×î¸ßÎ»7Î»
  56   1      //alarm_buzzer();/////·äÃùÆ÷µÄ³õÊ¼»¯
  57   1      P32=0;
  58   1      
  59   1      P32=1;
  60   1      
  61   1      //·äÃùÆ÷³õÊ¼»¯
  62   1        while(1)          //½øÈëÑ­»·//ÒÔÏÂÎªÎÞÏÞÑ­»·³ÌÐòÇø
  63   1            { 
  64   2           key();       //µ÷ÓÃ°´¼üº¯Êý//
  65   2           display();         //µ÷ÓÃÏÔÊ¾º¯Êý//
  66   2      //    One_key_multifunction(); 
  67   2      //    Display_function_with_a_parameter(key_counter);         //µ÷ÓÃÏÔÊ¾º¯Êý//
  68   2              } 
  69   1      }
  70          
  71          ///////////////////////////////////////////////////
  72          //º¯ÊýÃû³Æ:void key(void)
  73          //º¯Êý¹¦ÄÜ:°´¼üº¯Êý
  74          //Èë¿Ú²ÎÊý:
  75          //³ö¿Ú²ÎÊý:
  76          //º¯ÊýËµÃ÷:
  77          ///////////////////////////////////////////////////
  78          void key(void)      //°´¼üº¯Êý
  79          {
  80   1        if(key_1==0)/////////Èç¹û°´¼ü°´ÏÂ
  81   1        {
  82   2        P32=0;
  83   2          delay10ms();///////ÑÓÊ±10ms Ô½¹ý¶¶¶¯Çø7ms
  84   2          if(key_1==0)///////°´¼üµÄÈ·°´ÏÂ
  85   2          P32=1;
  86   2            {
  87   3      alarm_buzzer();/////°´¼üÒô
  88   3          count++;///////°´¼ü¼ÆÊýÆ÷¼ÆÊý
  89   3          if(count>=20){count=19;}//////¿ØÖÆ¼ÆÊýÆ÷×î´óÖµ;16¼´Îª16½øÖÆ;20¼´Îª20½øÖÆ;µ«×î´ó¼ÆÊý255£¬ÒòÎªcount¶¨ÒåµÄÊ
             -Çunsigend char
  90   3          P1=~count;///////½«¼ÆÊýÖµËÍP0¿ÚÀûÓÃLEDÖ¸Ê¾µÆÒÔBCDÂë£¨8421Âë£©ÏÔÊ¾
  91   3          while(key_1==0){;}///////°´¼üµÈ´ýÌ§Æð
  92   3          }
  93   2        }
  94   1        if(key_2==0)/////////Èç¹û°´¼ü°´ÏÂ
  95   1        {
  96   2          delay10ms();///////ÑÓÊ±10ms Ô½¹ý¶¶¶¯Çø7ms
  97   2          if(key_2==0)///////°´¼üµÄÈ·°´ÏÂ
  98   2            {
  99   3      alarm_buzzer();/////°´¼üÒô
 100   3          count--;///////°´¼ü¼ÆÊýÆ÷¼ÆÊý
 101   3          if(count>=100){count=0;}//////¿ØÖÆ¼ÆÊýÆ÷×î´óÖµ;16¼´Îª16½øÖÆ;20¼´Îª20½øÖÆ;µ«×î´ó¼ÆÊý255£¬ÒòÎªcount¶¨ÒåµÄÊ
             -Çunsigend char
 102   3          P1=~count;///////½«¼ÆÊýÖµËÍP0¿ÚÀûÓÃLEDÖ¸Ê¾µÆÒÔBCDÂë£¨8421Âë£©ÏÔÊ¾
 103   3          while(key_2==0){;}///////°´¼üµÈ´ýÌ§Æð
 104   3          }
 105   2        }
 106   1        if(key_3==0)/////////Èç¹û°´¼ü°´ÏÂ
 107   1        {
 108   2          delay10ms();///////ÑÓÊ±10ms Ô½¹ý¶¶¶¯Çø7ms
 109   2          if(key_3==0)///////°´¼üµÄÈ·°´ÏÂ
 110   2            {
 111   3      alarm_buzzer();/////°´¼üÒô
 112   3          alarm_con=!alarm_con;/////¿ØÖÆ±¨¾¯Òô±êÖ¾
 113   3          while(key_3==0){;}///////°´¼üµÈ´ýÌ§Æð
 114   3          }
C51 COMPILER V9.57.0.0   __________                                                        04/26/2021 16:36:01 PAGE 3   

 115   2        }
 116   1      }
 117          
 118          ///////////////////////////////////////////////////
 119          //º¯ÊýÃû³Æ:void display(void)
 120          //º¯Êý¹¦ÄÜ:ÏÔÊ¾º¯Êý
 121          //Èë¿Ú²ÎÊý:
 122          //³ö¿Ú²ÎÊý:
 123          //º¯ÊýËµÃ÷:
 124          ///////////////////////////////////////////////////
 125          void display(void)      //ÏÔÊ¾º¯Êý
 126          {
 127   1      //////////////³ÖÐøÏÔÊ¾³ÌÐò/////////////////////////////
 128   1        P0=~count;///////½«¼ÆÊýÖµËÍP0¿ÚÀûÓÃLEDÖ¸Ê¾µÆÒÔBCDÂë£¨8421Âë£©ÏÔÊ¾
 129   1      //////////////Éù¹â±¨¾¯³ÌÐò/////////////////////////////
 130   1        if(count>=5)
 131   1        {
 132   2          L8=0;      /////¹â±¨¾¯
 133   2          if(alarm_con==0)
 134   2          {
 135   3          //alarm_buzzer();/////ÉùÒô±¨¾¯
 136   3          }
 137   2        }
 138   1        else
 139   1        {
 140   2          L8=1;          /////¹âÈ¡Ïû
 141   2        }//////Ö¸Ê¾µÆ±¨¾¯
 142   1      
 143   1      //////////////ÉÁË¸ÏÔÊ¾º¯Êý/////////////////////////////
 144   1      
 145   1      //  P0=~count;///////½«¼ÆÊýÖµËÍP0¿ÚÀûÓÃLEDÖ¸Ê¾µÆÒÔBCDÂë£¨8421Âë£©ÏÔÊ¾
 146   1      //  delay02s();///ÑÓÊ±0.2s
 147   1      //  P0=0xff;///////P0¿Ú8ÌõÏßÈ«ËÍ¸ßµçÆ½£¬Ä¿µÄÏ¨ÃðËùÓÐLEDÖ¸Ê¾µÆ
 148   1      //  delay02s();///ÑÓÊ±0.2s
 149   1      
 150   1      }
 151          
 152          ///////////////////////////////////////////////////
 153          //º¯ÊýÃû³Æ:void Display_function_with_a_parameter(unsigned char x)
 154          //º¯Êý¹¦ÄÜ:´ø²ÎÊýµÄÏÔÊ¾º¯Êý
 155          //Èë¿Ú²ÎÊý:
 156          //³ö¿Ú²ÎÊý:
 157          //º¯ÊýËµÃ÷:
 158          ///////////////////////////////////////////////////
 159          void Display_function_with_a_parameter(unsigned char x)      //ÏÔÊ¾º¯Êý
 160          {
 161   1      //////////////³ÖÐøÏÔÊ¾³ÌÐò/////////////////////////////
 162   1      
 163   1      if(x==2){P0=~Addition_and_subtracting_counter;}///////½«¼ÆÊýÖµËÍP0¿ÚÀûÓÃLEDÖ¸Ê¾µÆÒÔBCDÂë£¨8421Âë£©ÏÔÊ¾
 164   1      //if(x==2){P0=~move_bit2;}///////½«¼ÆÊýÖµËÍP0¿ÚÀûÓÃLEDÖ¸Ê¾µÆÒÔBCDÂë£¨8421Âë£©ÏÔÊ¾
 165   1      if(x==3){led_a();}
 166   1      }
 167          ///////////////////////////////////////////////////
 168          //º¯ÊýÃû³Æ:void alarm_buzzer(void)
 169          //º¯Êý¹¦ÄÜ:±¨¾¯×Ó³ÌÐò
 170          //Èë¿Ú²ÎÊý:
 171          //³ö¿Ú²ÎÊý:
 172          //º¯ÊýËµÃ÷:
 173          ///////////////////////////////////////////////////
 174          void alarm_buzzer(void)   //ÑÓÊ±10msµÄ×Ó³ÌÐò//
 175          {     
 176   1          unsigned char k; /////¾Ö²¿±äÁ¿¶¨Òå
C51 COMPILER V9.57.0.0   __________                                                        04/26/2021 16:36:01 PAGE 4   

 177   1          for(k=248;k>0;k--) ////ÄÚ²ãÑ­»·
 178   1          {
 179   2        fmq=0;
 180   2          delay50us();
 181   2          fmq=1;
 182   2          delay50us();
 183   2          }
 184   1      }  
 185          ///////////////////////////////////////////////////
 186          //º¯ÊýÃû³Æ:void delay50us(void)
 187          //º¯Êý¹¦ÄÜ:ÑÓÊ±50usÃëµÄ×Ó³ÌÐò
 188          //Èë¿Ú²ÎÊý:
 189          //³ö¿Ú²ÎÊý:
 190          //º¯ÊýËµÃ÷:
 191          ///////////////////////////////////////////////////
 192          void delay50us(void)    //ÑÓÊ±10msµÄ×Ó³ÌÐò//
 193          {     
 194   1          unsigned int k; /////¾Ö²¿±äÁ¿¶¨Òå
 195   1      
 196   1            for(k=50;k>0;k--) ////ÄÚ²ãÑ­»·
 197   1              {
 198   2              ;
 199   2              }
 200   1      
 201   1      }  
 202          ///////////////////////////////////////////////////
 203          //º¯ÊýÃû³Æ:void delay10ms(void)
 204          //º¯Êý¹¦ÄÜ:ÑÓÊ±10msÃëµÄ×Ó³ÌÐò
 205          //Èë¿Ú²ÎÊý:
 206          //³ö¿Ú²ÎÊý:
 207          //º¯ÊýËµÃ÷:
 208          ///////////////////////////////////////////////////
 209          void delay10ms(void)    //ÑÓÊ±10msµÄ×Ó³ÌÐò//
 210          {     
 211   1      //    unsigned char i,j,k; /////¾Ö²¿±äÁ¿¶¨Òå
 212   1          unsigned char j,k; /////¾Ö²¿±äÁ¿¶¨Òå
 213   1      //      for(i=20;i>0;i--)   //×îÍâ²ãÑ­»·
 214   1      //      {
 215   1                for(j=20;j>0;j--)   // ÉÏ²ãÑ­»·
 216   1                {
 217   2                    for(k=248;k>0;k--) ////ÄÚ²ãÑ­»·
 218   2                    {
 219   3                    ;
 220   3                    }
 221   2                }
 222   1      //      }
 223   1      }  
 224          ///////////////////////////////////////////////////
 225          //º¯ÊýÃû³Æ:void delay02s(void)
 226          //º¯Êý¹¦ÄÜ:ÑÓÊ±0.2ÃëµÄ×Ó³ÌÐò
 227          //Èë¿Ú²ÎÊý:
 228          //³ö¿Ú²ÎÊý:
 229          //º¯ÊýËµÃ÷:
 230          ///////////////////////////////////////////////////
 231          void delay02s(void)   //ÑÓÊ±×Ó³ÌÐò//
 232          {     
 233   1          unsigned char i,j,k; /////¾Ö²¿±äÁ¿¶¨Òå
 234   1            for(i=20;i>0;i--)   //×îÍâ²ãÑ­»·
 235   1            {
 236   2                for(j=20;j>0;j--)   // ÉÏ²ãÑ­»·
 237   2                {
 238   3                    for(k=248;k>0;k--) ////ÄÚ²ãÑ­»·
C51 COMPILER V9.57.0.0   __________                                                        04/26/2021 16:36:01 PAGE 5   

 239   3                    {
 240   4                    ;
 241   4                    }
 242   3                }
 243   2            }
 244   1      } 


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    196    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      1    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
